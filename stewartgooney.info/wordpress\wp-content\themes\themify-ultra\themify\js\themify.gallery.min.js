var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var f=a.length,d=0;d<f;d++){var e=a[d];if(b.call(c,e,d,a))return{i:d,v:e}}return{i:-1,v:void 0}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};
$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,b,c,f){if(b){c=$jscomp.global;a=a.split(".");for(f=0;f<a.length-1;f++){var d=a[f];d in c||(c[d]={});c=c[d]}a=a[a.length-1];f=c[a];b=b(f);b!=f&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6-impl","es3");var ThemifyGallery={};
(function(a){ThemifyGallery={config:{fullscreen:themifyScript.lightbox.fullscreenSelector,lightbox:themifyScript.lightbox.lightboxSelector,lightboxGallery:themifyScript.lightbox.gallerySelector,lightboxContentImages:themifyScript.lightbox.lightboxContentImagesSelector,is_touch:a("body").hasClass("touch"),context:document},init:function(b){b&&"object"==typeof b&&a.extend(ThemifyGallery.config,b);if(b.extraLightboxArgs&&"object"==typeof b)for(var c in b.extraLightboxArgs)themifyScript.lightbox[c]=b.extraLightboxArgs[c];
this.parseArgs();this.doLightbox()},parseArgs:function(){a.each(themifyScript.lightbox,function(a,c){"false"==c||"true"==c?themifyScript.lightbox[a]="false"!=c:parseInt(c)?themifyScript.lightbox[a]=parseInt(c):parseFloat(c)&&(themifyScript.lightbox[a]=parseFloat(c))})},doLightbox:function(){var b=this.config.context;if("undefined"!==typeof a.fn.magnificPopup&&"undefined"!==typeof themifyScript.lightbox.lightboxOn&&(a(b).on("click",ThemifyGallery.config.lightbox,function(b){b.preventDefault();var c=
a(this),d=0<c.find("> a").length?c.find("> a").attr("href"):c.attr("href"),e=ThemifyGallery.getFileType(d);b=ThemifyGallery.isVideo(d);var g="inline"===e||"iframe"===e?[]:c.data("rel")?a('a[data-rel="'+c.data("rel")+'"]'):c.closest(".themify_builder_row, .loops-wrapper").find(".themify_lightbox > img").parent(),h=1<g.length?g.index(this):0,n="undefined"!==typeof a(this).children("img").prop("alt")?a(this).children("img").prop("alt"):a(this).prop("title"),k=b?"100%":ThemifyGallery.getParam("width",
d)?ThemifyGallery.getParam("width",d):"94%",l=b?"100%":ThemifyGallery.getParam("height",d)?ThemifyGallery.getParam("height",d):"100%";-1===k.indexOf("%")&&(k+="px");-1===l.indexOf("%")&&(l+="px");b&&(ThemifyGallery.isYoutube(d)?d=ThemifyGallery.getYoutubePath(d):ThemifyGallery.isVimeo(d)&&(d=d.split("?")[0]));if(1<g.length&&-1!==h){var m=[];g.each(function(b,c){m.push({src:ThemifyGallery.getiFrameLink(a(c).prop("href")),title:"undefined"!==typeof a(c).find("img").prop("alt")?a(c).find("img").prop("alt"):
"",type:ThemifyGallery.getFileType(a(c).prop("href"))})})}else h=0,m={src:ThemifyGallery.getiFrameLink(d),title:n};d=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;e={items:m,type:e,iframe:{markup:'<div class="mfp-iframe-scaler" style="max-width: '+k+" !important; height: "+l+';"><div class="mfp-close"></div><div class="mfp-iframe-wrapper"><iframe class="mfp-iframe" '+(d?'scrolling="no" ':"")+'noresize="noresize" frameborder="0" allowfullscreen></iframe></div></div>'},callbacks:{open:function(){var b=
c.data("zoom-config"),d={};b&&(b=b.split("|"),"undefined"!==typeof b[0]&&(d.width=b[0]),"undefined"!==typeof b[1]&&(d.height=b[1]),a(this.content).parent().css(d))}}};1<g.length&&a.extend(e,{gallery:{enabled:!0}});0<c.find("img").length&&a.extend(e,{mainClass:"mfp-with-zoom",zoom:{enabled:!ThemifyGallery.config.is_touch,duration:300,easing:"ease-in-out",opener:function(){return c.find("img")}}});e.mainClass=b?e.mainClass+" video-frame":e.mainClass+" standard-frame";ThemifyGallery.isInIframe()?window.parent.jQuery.magnificPopup.open(e):
a.magnificPopup.open(e,h)}),a(themifyScript.lightbox.contentImagesAreas,b).each(function(){var b=[],f=[];themifyScript.lightbox.lightboxContentImages&&themifyScript.lightbox.lightboxGalleryOn&&a(ThemifyGallery.config.lightboxContentImages,a(this)).filter(function(){if(!a(this).parent().hasClass("gallery-icon")&&!a(this).hasClass("themify_lightbox")){f.push(a(this));a(this).prop("title");var c=0<a(this).next(".wp-caption-text").length?a(this).next(".wp-caption-text").html():a(this).children("img").prop("alt");
b.push({src:a(this).prop("href"),title:c,type:"image"});return a(this)}}).each(function(c){if(0<f.length)a(this).on("click",function(d){d.preventDefault();var e=a(this);d={items:{src:b[c].src,title:b[c].title},type:"image"};0<e.find("img").length&&a.extend(d,{mainClass:"mfp-with-zoom",zoom:{enabled:!ThemifyGallery.config.is_touch,duration:300,easing:"ease-in-out",opener:function(){return e.find("img")}}});ThemifyGallery.isInIframe()?window.parent.jQuery.magnificPopup.open(d):a.magnificPopup.open(d)})})}),
themifyScript.lightbox.lightboxGalleryOn))a(b).on("click",ThemifyGallery.config.lightboxGallery,function(b){if("image"===ThemifyGallery.getFileType(a(this).prop("href"))){b.preventDefault();var c=a(ThemifyGallery.config.lightboxGallery,a(this).parent().parent().parent()),d=[];c.each(function(){var b=a(this).prop("title");0<a(this).parent().next(".gallery-caption").length?b=a(this).parent().next(".wp-caption-text").html():0<a(this).children("img").length?b=a(this).children("img").prop("alt"):0<a(this).find(".gallery-caption").find(".entry-content").length&&
(b=a(this).find(".gallery-caption").find(".entry-content").text());d.push({src:a(this).prop("href"),title:b,type:"image"})});b={gallery:{enabled:!0},items:d,mainClass:"mfp-with-zoom",zoom:{enabled:!ThemifyGallery.config.is_touch,duration:300,easing:"ease-in-out",opener:function(b){b=a(c[b.index]);return b.is("img")?b:b.find("img")}}};ThemifyGallery.isInIframe()?window.parent.jQuery.magnificPopup.open(b,c.index(this)):a.magnificPopup.open(b,c.index(this))}})},countItems:function(b){var c=this.config.context;
return"lightbox"===b?a(this.config.lightbox,c).length+a(this.config.lightboxGallery,c).length+a(ThemifyGallery.config.lightboxContentImages,c).length:a(this.config.fullscreen,c).length+a(ThemifyGallery.config.lightboxContentImages,c).length},isInIframe:function(){return"undefined"!==typeof ThemifyGallery.config.extraLightboxArgs?"undefined"!==typeof ThemifyGallery.config.extraLightboxArgs.displayIframeContentsInParent&&1==ThemifyGallery.config.extraLightboxArgs.displayIframeContentsInParent:!1},getFileType:function(b){return b.match(/\.(gif|jpg|jpeg|tiff|png)(\?fit=\d+(,|%2C)\d+)?$/i)?
"image":b.match(/\bajax=true\b/i)?"ajax":"#"===b.substr(0,1)?"inline":"iframe"},isVideo:function(b){return ThemifyGallery.isYoutube(b)||ThemifyGallery.isVimeo(b)||b.match(/\b.mov\b/i)||b.match(/\b.swf\b/i)},isYoutube:function(b){return b.match(/youtube\.com\/watch/i)||b.match(/youtu\.be/i)},isVimeo:function(b){return b.match(/vimeo\.com/i)},getYoutubePath:function(b){return b.match(/youtu\.be/i)?"//youtube.com/watch?v="+b.match(/youtu\.be\/([^\?]*)/i)[1]:"//youtube.com/watch?v="+ThemifyGallery.getParam("v",
b)},getiFrameLink:function(b){"iframe"===ThemifyGallery.getFileType(b)&&null===ThemifyGallery.isVideo(b)&&(b=Themify.UpdateQueryString("iframe","true",b));return b},getParam:function(b,a){b=b.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var c=(new RegExp("[\\?&]"+b+"=([^&#]*)")).exec(a);return null==c?"":c[1]}}})(jQuery);
